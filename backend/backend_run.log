INFO:     Will watch for changes in these directories: ['/Users/quick/Desktop/bill_generator-main/backend']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [95108] using StatReload
INFO:     Started server process [95152]
INFO:     Waiting for application startup.
2025-08-14 10:49:11,035 - server - INFO - ðŸš€ InvoiceForge API started successfully!
INFO:     Application startup complete.
INFO:     127.0.0.1:51097 - "GET /api/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:51155 - "GET /api/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:51157 - "OPTIONS /api/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:51155 - "GET /api/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:51159 - "OPTIONS /api/business/profile HTTP/1.1" 200 OK
INFO:     127.0.0.1:51155 - "GET /api/business/profile HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 322, in jsonable_encoder
    data = dict(obj)
TypeError: 'ObjectId' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 327, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 148, in simple_response
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 296, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 180, in serialize_response
    return jsonable_encoder(response_content)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 287, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 330, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'ObjectId' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
INFO:     127.0.0.1:51185 - "OPTIONS /api/invoices HTTP/1.1" 200 OK
INFO:     127.0.0.1:51187 - "OPTIONS /api/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:51188 - "OPTIONS /api/invoices HTTP/1.1" 200 OK
INFO:     127.0.0.1:51189 - "OPTIONS /api/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:51191 - "GET /api/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:51191 - "GET /api/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:51185 - "GET /api/invoices HTTP/1.1" 200 OK
INFO:     127.0.0.1:51191 - "GET /api/invoices HTTP/1.1" 200 OK
INFO:     127.0.0.1:51208 - "OPTIONS /api/invoices/36e1116b-875d-41d2-b9d3-2ca3f9dd0d8b HTTP/1.1" 200 OK
INFO:     127.0.0.1:51208 - "DELETE /api/invoices/36e1116b-875d-41d2-b9d3-2ca3f9dd0d8b HTTP/1.1" 200 OK
INFO:     127.0.0.1:51212 - "DELETE /api/invoices HTTP/1.1" 200 OK
INFO:     127.0.0.1:51212 - "GET /api/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:51218 - "GET /api/business/profile HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 322, in jsonable_encoder
    data = dict(obj)
TypeError: 'ObjectId' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 327, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 148, in simple_response
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 296, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 180, in serialize_response
    return jsonable_encoder(response_content)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 287, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 330, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'ObjectId' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
INFO:     127.0.0.1:51212 - "GET /api/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:51222 - "GET /api/business/profile HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 322, in jsonable_encoder
    data = dict(obj)
TypeError: 'ObjectId' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 327, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 148, in simple_response
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 296, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 180, in serialize_response
    return jsonable_encoder(response_content)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 287, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 330, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'ObjectId' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
INFO:     127.0.0.1:51212 - "GET /api/invoices HTTP/1.1" 200 OK
INFO:     127.0.0.1:51226 - "GET /api/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:51226 - "GET /api/invoices HTTP/1.1" 200 OK
INFO:     127.0.0.1:51212 - "GET /api/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:51212 - "GET /api/business/profile HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 322, in jsonable_encoder
    data = dict(obj)
TypeError: 'ObjectId' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 327, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 148, in simple_response
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 296, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 180, in serialize_response
    return jsonable_encoder(response_content)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 287, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 330, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'ObjectId' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
INFO:     127.0.0.1:51226 - "GET /api/business/profile HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 322, in jsonable_encoder
    data = dict(obj)
TypeError: 'ObjectId' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 327, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 148, in simple_response
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 296, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 180, in serialize_response
    return jsonable_encoder(response_content)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 287, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 330, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'ObjectId' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
INFO:     127.0.0.1:51242 - "OPTIONS /api/business/profile HTTP/1.1" 200 OK
INFO:     127.0.0.1:51242 - "POST /api/business/profile HTTP/1.1" 200 OK
INFO:     127.0.0.1:51242 - "POST /api/business/profile HTTP/1.1" 200 OK
INFO:     127.0.0.1:51242 - "OPTIONS /api/business/generate-template HTTP/1.1" 200 OK
INFO:     127.0.0.1:51244 - "POST /api/business/generate-template HTTP/1.1" 200 OK
INFO:     127.0.0.1:51244 - "OPTIONS /api/business/templates HTTP/1.1" 200 OK
INFO:     127.0.0.1:51242 - "OPTIONS /api/business/templates HTTP/1.1" 200 OK
DEBUG: Getting templates for user f42dbf46-6542-41d5-b99a-2be1f3f6234c
DEBUG: Found 4 custom templates
DEBUG: Template: py vault Business Template
DEBUG: Template: PY Vault Business Template
DEBUG: Template: Pawan Textile Business Template
DEBUG: Template: PY Vault Business Template
INFO:     127.0.0.1:51244 - "GET /api/business/templates HTTP/1.1" 200 OK
DEBUG: Getting templates for user f42dbf46-6542-41d5-b99a-2be1f3f6234c
INFO:     127.0.0.1:51244 - "GET /api/business/profile HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 322, in jsonable_encoder
    data = dict(obj)
TypeError: 'ObjectId' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 327, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 148, in simple_response
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 296, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 180, in serialize_response
    return jsonable_encoder(response_content)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 287, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 330, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'ObjectId' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
DEBUG: Found 4 custom templates
DEBUG: Template: py vault Business Template
DEBUG: Template: PY Vault Business Template
DEBUG: Template: Pawan Textile Business Template
DEBUG: Template: PY Vault Business Template
INFO:     127.0.0.1:51242 - "GET /api/business/templates HTTP/1.1" 200 OK
INFO:     127.0.0.1:51255 - "GET /api/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:51268 - "GET /api/business/profile HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 322, in jsonable_encoder
    data = dict(obj)
TypeError: 'ObjectId' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 327, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 148, in simple_response
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 296, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 180, in serialize_response
    return jsonable_encoder(response_content)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 287, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 330, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'ObjectId' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
INFO:     127.0.0.1:51255 - "GET /api/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:51270 - "GET /api/business/profile HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 322, in jsonable_encoder
    data = dict(obj)
TypeError: 'ObjectId' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 327, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 148, in simple_response
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 296, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 180, in serialize_response
    return jsonable_encoder(response_content)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 287, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 330, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'ObjectId' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
INFO:     127.0.0.1:51289 - "OPTIONS /api/invoices HTTP/1.1" 200 OK
INFO:     127.0.0.1:51289 - "POST /api/invoices HTTP/1.1" 200 OK
INFO:     127.0.0.1:51318 - "OPTIONS /api/ai/enhanced-voice-processing HTTP/1.1" 200 OK
INFO:     127.0.0.1:51318 - "POST /api/ai/enhanced-voice-processing HTTP/1.1" 200 OK
INFO:     127.0.0.1:51335 - "GET /api/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:51335 - "GET /api/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:51336 - "GET /api/business/profile HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 322, in jsonable_encoder
    data = dict(obj)
TypeError: 'ObjectId' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 327, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 148, in simple_response
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 296, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 180, in serialize_response
    return jsonable_encoder(response_content)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 287, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 330, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'ObjectId' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
INFO:     127.0.0.1:51335 - "GET /api/business/profile HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 322, in jsonable_encoder
    data = dict(obj)
TypeError: 'ObjectId' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 327, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 148, in simple_response
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 296, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 180, in serialize_response
    return jsonable_encoder(response_content)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 287, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 330, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'ObjectId' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
INFO:     127.0.0.1:51338 - "GET /api/business/profile HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 322, in jsonable_encoder
    data = dict(obj)
TypeError: 'ObjectId' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 327, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 148, in simple_response
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 296, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 180, in serialize_response
    return jsonable_encoder(response_content)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 287, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 330, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'ObjectId' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
INFO:     127.0.0.1:51349 - "GET /api/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:51348 - "GET /api/invoices HTTP/1.1" 200 OK
INFO:     127.0.0.1:51349 - "GET /api/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:51348 - "GET /api/invoices HTTP/1.1" 200 OK
INFO:     127.0.0.1:51410 - "GET /api/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:51409 - "GET /api/invoices HTTP/1.1" 200 OK
INFO:     127.0.0.1:51410 - "GET /api/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:51409 - "GET /api/invoices HTTP/1.1" 200 OK
INFO:     127.0.0.1:51411 - "GET /api/business/profile HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 322, in jsonable_encoder
    data = dict(obj)
TypeError: 'ObjectId' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 327, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 148, in simple_response
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 296, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 180, in serialize_response
    return jsonable_encoder(response_content)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 287, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 330, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'ObjectId' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
INFO:     127.0.0.1:51432 - "DELETE /api/invoices HTTP/1.1" 200 OK
INFO:     127.0.0.1:51471 - "GET /api/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:51474 - "POST /api/auth/register HTTP/1.1" 200 OK
INFO:     127.0.0.1:51475 - "GET /api/auth/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:51476 - "POST /api/business/profile HTTP/1.1" 200 OK
INFO:     127.0.0.1:51477 - "GET /api/business/profile HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 322, in jsonable_encoder
    data = dict(obj)
TypeError: 'ObjectId' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 327, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 296, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 180, in serialize_response
    return jsonable_encoder(response_content)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 287, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 330, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'ObjectId' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
DEBUG: Getting templates for user 8b646ea0-f876-427f-ae38-408f0aa4b927
DEBUG: Found 0 custom templates
INFO:     127.0.0.1:51478 - "GET /api/business/templates HTTP/1.1" 200 OK
INFO:     127.0.0.1:51479 - "GET /api/business/custom-templates HTTP/1.1" 200 OK
INFO:     127.0.0.1:51480 - "POST /api/ai/voice-to-invoice HTTP/1.1" 200 OK
INFO:     127.0.0.1:51481 - "POST /api/ai/enhanced-voice-processing HTTP/1.1" 200 OK
INFO:     127.0.0.1:51482 - "GET /api/invoices HTTP/1.1" 200 OK
INFO:     127.0.0.1:51483 - "GET /api/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:51484 - "GET /api/dashboard/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51494 - "POST /api/auth/register HTTP/1.1" 200 OK
INFO:     127.0.0.1:51496 - "DELETE /api/invoices HTTP/1.1" 200 OK
INFO:     127.0.0.1:51735 - "GET /docs HTTP/1.1" 200 OK
INFO:     127.0.0.1:51845 - "GET /api/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:51847 - "OPTIONS /api/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:51845 - "GET /api/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:51845 - "OPTIONS /api/business/profile HTTP/1.1" 200 OK
INFO:     127.0.0.1:51847 - "GET /api/business/profile HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 322, in jsonable_encoder
    data = dict(obj)
TypeError: 'ObjectId' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 327, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 148, in simple_response
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 296, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 180, in serialize_response
    return jsonable_encoder(response_content)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 287, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 330, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'ObjectId' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
INFO:     127.0.0.1:51873 - "OPTIONS /api/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:51877 - "OPTIONS /api/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:51876 - "GET /api/business/profile HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 322, in jsonable_encoder
    data = dict(obj)
TypeError: 'ObjectId' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 327, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 148, in simple_response
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 296, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 180, in serialize_response
    return jsonable_encoder(response_content)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 287, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 330, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'ObjectId' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
INFO:     127.0.0.1:51873 - "GET /api/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:51873 - "GET /api/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:51877 - "GET /api/business/profile HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 322, in jsonable_encoder
    data = dict(obj)
TypeError: 'ObjectId' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 327, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 148, in simple_response
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 296, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 180, in serialize_response
    return jsonable_encoder(response_content)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 287, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 330, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'ObjectId' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
INFO:     127.0.0.1:51879 - "OPTIONS /api/business/templates HTTP/1.1" 200 OK
INFO:     127.0.0.1:51884 - "OPTIONS /api/business/templates HTTP/1.1" 200 OK
DEBUG: Getting templates for user f42dbf46-6542-41d5-b99a-2be1f3f6234c
DEBUG: Found 4 custom templates
DEBUG: Template: py vault Business Template
DEBUG: Template: PY Vault Business Template
DEBUG: Template: Pawan Textile Business Template
DEBUG: Template: PY Vault Business Template
INFO:     127.0.0.1:51879 - "GET /api/business/templates HTTP/1.1" 200 OK
DEBUG: Getting templates for user f42dbf46-6542-41d5-b99a-2be1f3f6234c
DEBUG: Found 4 custom templates
DEBUG: Template: py vault Business Template
DEBUG: Template: PY Vault Business Template
DEBUG: Template: Pawan Textile Business Template
DEBUG: Template: PY Vault Business Template
INFO:     127.0.0.1:51884 - "GET /api/business/templates HTTP/1.1" 200 OK
INFO:     127.0.0.1:51886 - "GET /api/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:51892 - "GET /api/business/profile HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 322, in jsonable_encoder
    data = dict(obj)
TypeError: 'ObjectId' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 327, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 148, in simple_response
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 296, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 180, in serialize_response
    return jsonable_encoder(response_content)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 287, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 330, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'ObjectId' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
INFO:     127.0.0.1:51886 - "GET /api/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:51896 - "GET /api/business/profile HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 322, in jsonable_encoder
    data = dict(obj)
TypeError: 'ObjectId' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 327, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 148, in simple_response
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 296, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 180, in serialize_response
    return jsonable_encoder(response_content)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 287, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 330, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'ObjectId' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
INFO:     127.0.0.1:51904 - "OPTIONS /api/ai/enhanced-voice-processing HTTP/1.1" 200 OK
INFO:     127.0.0.1:51904 - "POST /api/ai/enhanced-voice-processing HTTP/1.1" 200 OK
DEBUG: Getting templates for user f42dbf46-6542-41d5-b99a-2be1f3f6234c
DEBUG: Found 4 custom templates
DEBUG: Template: py vault Business Template
DEBUG: Template: PY Vault Business Template
DEBUG: Template: Pawan Textile Business Template
DEBUG: Template: PY Vault Business Template
INFO:     127.0.0.1:51906 - "GET /api/business/templates HTTP/1.1" 200 OK
DEBUG: Getting templates for user f42dbf46-6542-41d5-b99a-2be1f3f6234c
DEBUG: Found 4 custom templates
DEBUG: Template: py vault Business Template
DEBUG: Template: PY Vault Business Template
DEBUG: Template: Pawan Textile Business Template
DEBUG: Template: PY Vault Business Template
INFO:     127.0.0.1:51925 - "GET /api/business/templates HTTP/1.1" 200 OK
INFO:     127.0.0.1:51934 - "GET /api/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:51935 - "GET /api/business/profile HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 322, in jsonable_encoder
    data = dict(obj)
TypeError: 'ObjectId' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 327, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 148, in simple_response
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 296, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 180, in serialize_response
    return jsonable_encoder(response_content)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 287, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 330, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'ObjectId' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
INFO:     127.0.0.1:51934 - "GET /api/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:51939 - "GET /api/business/profile HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 322, in jsonable_encoder
    data = dict(obj)
TypeError: 'ObjectId' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 327, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 148, in simple_response
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 296, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 180, in serialize_response
    return jsonable_encoder(response_content)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 287, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 330, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'ObjectId' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
INFO:     127.0.0.1:51949 - "POST /api/ai/enhanced-voice-processing HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-08-14 11:13:21,004 - server - INFO - ðŸ”’ InvoiceForge API shut down successfully!
INFO:     Application shutdown complete.
INFO:     Finished server process [95152]
INFO:     Started server process [13738]
INFO:     Waiting for application startup.
2025-08-14 11:13:21,768 - server - INFO - ðŸš€ InvoiceForge API started successfully!
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-08-14 11:13:56,839 - server - INFO - ðŸ”’ InvoiceForge API shut down successfully!
INFO:     Application shutdown complete.
INFO:     Finished server process [13738]
INFO:     Started server process [14110]
INFO:     Waiting for application startup.
2025-08-14 11:13:57,327 - server - INFO - ðŸš€ InvoiceForge API started successfully!
INFO:     Application startup complete.
INFO:     127.0.0.1:52030 - "POST /api/ai/enhanced-voice-processing HTTP/1.1" 200 OK
INFO:     127.0.0.1:52070 - "GET /api/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:52072 - "OPTIONS /api/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:52070 - "GET /api/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:52070 - "OPTIONS /api/business/profile HTTP/1.1" 200 OK
INFO:     127.0.0.1:52072 - "GET /api/business/profile HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 322, in jsonable_encoder
    data = dict(obj)
TypeError: 'ObjectId' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 327, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 148, in simple_response
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 296, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 180, in serialize_response
    return jsonable_encoder(response_content)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 287, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 330, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'ObjectId' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
INFO:     127.0.0.1:52070 - "OPTIONS /api/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:52080 - "OPTIONS /api/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:52078 - "GET /api/business/profile HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 322, in jsonable_encoder
    data = dict(obj)
TypeError: 'ObjectId' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 327, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 148, in simple_response
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 296, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 180, in serialize_response
    return jsonable_encoder(response_content)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 287, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 330, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'ObjectId' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
INFO:     127.0.0.1:52070 - "GET /api/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:52070 - "GET /api/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:52080 - "GET /api/business/profile HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 322, in jsonable_encoder
    data = dict(obj)
TypeError: 'ObjectId' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 327, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 148, in simple_response
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 296, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 180, in serialize_response
    return jsonable_encoder(response_content)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 287, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 330, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'ObjectId' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
INFO:     127.0.0.1:52070 - "OPTIONS /api/business/templates HTTP/1.1" 200 OK
INFO:     127.0.0.1:52082 - "OPTIONS /api/business/templates HTTP/1.1" 200 OK
DEBUG: Getting templates for user f42dbf46-6542-41d5-b99a-2be1f3f6234c
DEBUG: Found 4 custom templates
DEBUG: Template: py vault Business Template
DEBUG: Template: PY Vault Business Template
DEBUG: Template: Pawan Textile Business Template
DEBUG: Template: PY Vault Business Template
INFO:     127.0.0.1:52070 - "GET /api/business/templates HTTP/1.1" 200 OK
DEBUG: Getting templates for user f42dbf46-6542-41d5-b99a-2be1f3f6234c
DEBUG: Found 4 custom templates
DEBUG: Template: py vault Business Template
DEBUG: Template: PY Vault Business Template
DEBUG: Template: Pawan Textile Business Template
DEBUG: Template: PY Vault Business Template
INFO:     127.0.0.1:52082 - "GET /api/business/templates HTTP/1.1" 200 OK
INFO:     127.0.0.1:52082 - "GET /api/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:52070 - "GET /api/business/profile HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 322, in jsonable_encoder
    data = dict(obj)
TypeError: 'ObjectId' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 327, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 148, in simple_response
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 296, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 180, in serialize_response
    return jsonable_encoder(response_content)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 287, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 330, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'ObjectId' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
INFO:     127.0.0.1:52082 - "GET /api/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:52087 - "GET /api/business/profile HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 322, in jsonable_encoder
    data = dict(obj)
TypeError: 'ObjectId' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 327, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 148, in simple_response
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 296, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 180, in serialize_response
    return jsonable_encoder(response_content)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 287, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 330, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'ObjectId' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
INFO:     127.0.0.1:52102 - "OPTIONS /api/ai/enhanced-voice-processing HTTP/1.1" 200 OK
INFO:     127.0.0.1:52102 - "POST /api/ai/enhanced-voice-processing HTTP/1.1" 200 OK
INFO:     127.0.0.1:52102 - "OPTIONS /api/invoices HTTP/1.1" 200 OK
INFO:     127.0.0.1:52104 - "POST /api/invoices HTTP/1.1" 200 OK
INFO:     127.0.0.1:52127 - "POST /api/ai/enhanced-voice-processing HTTP/1.1" 200 OK
INFO:     127.0.0.1:52138 - "POST /api/ai/enhanced-voice-processing HTTP/1.1" 200 OK
INFO:     127.0.0.1:52148 - "POST /api/ai/enhanced-voice-processing HTTP/1.1" 200 OK
INFO:     127.0.0.1:52161 - "POST /api/ai/enhanced-voice-processing HTTP/1.1" 200 OK
INFO:     127.0.0.1:52161 - "POST /api/invoices HTTP/1.1" 200 OK
INFO:     127.0.0.1:52171 - "GET /api/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:52171 - "GET /api/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:52170 - "GET /api/invoices HTTP/1.1" 200 OK
INFO:     127.0.0.1:52170 - "GET /api/invoices HTTP/1.1" 200 OK
INFO:     127.0.0.1:52189 - "OPTIONS /api/invoices/6bb7f700-8e00-4766-ad03-b48456c8aacb HTTP/1.1" 200 OK
INFO:     127.0.0.1:52189 - "DELETE /api/invoices/6bb7f700-8e00-4766-ad03-b48456c8aacb HTTP/1.1" 200 OK
INFO:     127.0.0.1:52189 - "OPTIONS /api/invoices/b594c52f-2dfb-4ac8-bae5-8e2088c4a5f1 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52191 - "DELETE /api/invoices/b594c52f-2dfb-4ac8-bae5-8e2088c4a5f1 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52198 - "GET /api/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:52199 - "GET /api/business/profile HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 322, in jsonable_encoder
    data = dict(obj)
TypeError: 'ObjectId' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 327, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 148, in simple_response
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 296, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 180, in serialize_response
    return jsonable_encoder(response_content)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 287, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 330, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'ObjectId' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
INFO:     127.0.0.1:52198 - "GET /api/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:52203 - "GET /api/business/profile HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 322, in jsonable_encoder
    data = dict(obj)
TypeError: 'ObjectId' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 327, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 148, in simple_response
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 296, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 180, in serialize_response
    return jsonable_encoder(response_content)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 287, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 330, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'ObjectId' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
INFO:     127.0.0.1:52226 - "GET /api/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:52227 - "GET /api/business/profile HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 322, in jsonable_encoder
    data = dict(obj)
TypeError: 'ObjectId' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 327, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 148, in simple_response
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 296, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 180, in serialize_response
    return jsonable_encoder(response_content)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 287, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 330, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'ObjectId' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
INFO:     127.0.0.1:52226 - "GET /api/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:52229 - "GET /api/business/profile HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 322, in jsonable_encoder
    data = dict(obj)
TypeError: 'ObjectId' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 327, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 148, in simple_response
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 296, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 180, in serialize_response
    return jsonable_encoder(response_content)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 287, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 330, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'ObjectId' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
INFO:     127.0.0.1:52226 - "GET /api/business/profile HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 322, in jsonable_encoder
    data = dict(obj)
TypeError: 'ObjectId' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 327, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 148, in simple_response
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 296, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 180, in serialize_response
    return jsonable_encoder(response_content)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 287, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 330, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'ObjectId' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
DEBUG: Getting templates for user f42dbf46-6542-41d5-b99a-2be1f3f6234c
DEBUG: Found 4 custom templates
DEBUG: Template: py vault Business Template
DEBUG: Template: PY Vault Business Template
DEBUG: Template: Pawan Textile Business Template
DEBUG: Template: PY Vault Business Template
INFO:     127.0.0.1:52233 - "GET /api/business/templates HTTP/1.1" 200 OK
DEBUG: Getting templates for user f42dbf46-6542-41d5-b99a-2be1f3f6234c
DEBUG: Found 4 custom templates
DEBUG: Template: py vault Business Template
DEBUG: Template: PY Vault Business Template
DEBUG: Template: Pawan Textile Business Template
DEBUG: Template: PY Vault Business Template
INFO:     127.0.0.1:52235 - "GET /api/business/templates HTTP/1.1" 200 OK
INFO:     127.0.0.1:52283 - "GET /api/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:52285 - "GET /api/business/profile HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 322, in jsonable_encoder
    data = dict(obj)
TypeError: 'ObjectId' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 327, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 148, in simple_response
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 296, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 180, in serialize_response
    return jsonable_encoder(response_content)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 287, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 330, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'ObjectId' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
INFO:     127.0.0.1:52283 - "GET /api/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:52289 - "GET /api/business/profile HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 322, in jsonable_encoder
    data = dict(obj)
TypeError: 'ObjectId' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 327, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 148, in simple_response
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 296, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 180, in serialize_response
    return jsonable_encoder(response_content)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 287, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 330, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'ObjectId' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
INFO:     127.0.0.1:52295 - "POST /api/ai/enhanced-voice-processing HTTP/1.1" 200 OK
INFO:     127.0.0.1:52295 - "POST /api/invoices HTTP/1.1" 200 OK
INFO:     127.0.0.1:54424 - "GET /api/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:54426 - "OPTIONS /api/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:54424 - "GET /api/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:54424 - "OPTIONS /api/business/profile HTTP/1.1" 200 OK
INFO:     127.0.0.1:54426 - "GET /api/business/profile HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 322, in jsonable_encoder
    data = dict(obj)
TypeError: 'ObjectId' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 327, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 148, in simple_response
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 296, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 180, in serialize_response
    return jsonable_encoder(response_content)
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 287, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/Users/quick/Desktop/bill_generator-main/backend/venv/lib/python3.13/site-packages/fastapi/encoders.py", line 330, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'ObjectId' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
INFO:     127.0.0.1:54452 - "OPTIONS /api/auth/register HTTP/1.1" 200 OK
INFO:     127.0.0.1:54452 - "POST /api/auth/register HTTP/1.1" 200 OK
INFO:     127.0.0.1:54452 - "GET /api/business/profile HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:54454 - "OPTIONS /api/business/templates HTTP/1.1" 200 OK
INFO:     127.0.0.1:54465 - "OPTIONS /api/business/templates HTTP/1.1" 200 OK
DEBUG: Getting templates for user 30da9e62-588d-4504-965d-9ead1fc9622e
DEBUG: Found 0 custom templates
INFO:     127.0.0.1:54454 - "GET /api/business/templates HTTP/1.1" 200 OK
DEBUG: Getting templates for user 30da9e62-588d-4504-965d-9ead1fc9622e
DEBUG: Found 0 custom templates
INFO:     127.0.0.1:54454 - "GET /api/business/templates HTTP/1.1" 200 OK
INFO:     127.0.0.1:54467 - "GET /api/business/profile HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:54467 - "GET /api/business/profile HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:54467 - "OPTIONS /api/invoices HTTP/1.1" 200 OK
INFO:     127.0.0.1:54474 - "OPTIONS /api/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:54476 - "OPTIONS /api/invoices HTTP/1.1" 200 OK
INFO:     127.0.0.1:54477 - "OPTIONS /api/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:54479 - "GET /api/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:54479 - "GET /api/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:54467 - "GET /api/invoices HTTP/1.1" 200 OK
INFO:     127.0.0.1:54467 - "GET /api/invoices HTTP/1.1" 200 OK
INFO:     127.0.0.1:54487 - "OPTIONS /api/invoices/5f278a7f-c619-43a7-9930-2e075d3e4935 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54487 - "DELETE /api/invoices/5f278a7f-c619-43a7-9930-2e075d3e4935 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54487 - "GET /api/business/profile HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:54487 - "GET /api/business/profile HTTP/1.1" 404 Not Found
